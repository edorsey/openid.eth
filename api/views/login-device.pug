extends layout

block content
  h1.has-text-weight-semibold.is-size-2.has-text-centered.mb-4.mt-4 Login Device

  div
    form(action=action, method='POST')
      input(type='hidden', name='_csrf', value=csrfToken)

      .field
        label.label(for='address') Device Challenge
        .control
          input#deviceChallenge.input(
            name='deviceChallenge',
            type='text',
            value=deviceChallenge
          )

      .has-text-centered.mt-4
        input#submitDevice.button.is-link.m-2(
          type='submit',
          name='submit',
          value='Login device'
        )

  script(type='module', src='/js/pages/login-device.js').
  script.
    (function () {
      try {
        const profile = !{ profile };

        if (profile) {
          window.profile = profile;
        }
      } catch (err) {
        console.error("Profile not found");
      }
    })();
